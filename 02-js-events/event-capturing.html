<!DOCTYPE HTML>
<html>

<head>
    <link type="text/css" rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="external">external
        <div class="middle">middle
            <div class="internal">internal</div>
        </div>
    </div>
    <script>
        function handler(event) {
            var elem = event.currentTarget;
            console.log(`Current Target: ${elem.className}, Target: ${event.target.className}`);
            event.stopImmediatePropagation();
            elem.style.background = "#ffff00";
            alert(elem.className);
            elem.style.background = '';
        }
        function handler2(event) {
            var elem = event.currentTarget;
            console.log(`Handler 2: Current Target: ${elem.className}, Target: ${event.target.className}`);
            // event.stopPropagation();
            elem.style.background = "#ffff00";
            alert('Handler 2:' + elem.className);
            elem.style.background = '';
        }
        document.querySelectorAll("div").forEach(
            elem => {
                elem.addEventListener('click', handler, true)
                elem.addEventListener('click', handler2, true)
            }
        );
    </script>
</body>
</html>